<!doctype html>
<html>
<head>
<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>报名信息</title>
<style type="text/css">
html,body {
	margin-left: 0px;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	height:100%;
}
.bk{width:60%; line-height:10px; height:10px; border:0px; background:none;}
.bk1{width:35%; line-height:10px; height:10px; margin-left:22%; border:0px; background:none;}
</style>
<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
</head>

<body>
<div style="background:url(http://www.in-media.cn/webeda/wj/images/bmxx.png) no-repeat center top; background-size:90% auto; width:100%; height:100%; margin-top:50px;">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tbody>
    <tr>
      <td>&nbsp;</td>
      <td height="180">&nbsp;</td>
    </tr>
    <tr>
      <td width="39%" height="25">&nbsp;</td>
      <td valign="top"><input type="text" name="textfield2" id="txtName"  class="bk"></td>
    </tr>
    <tr>
      <td height="25">&nbsp;</td>
      <td valign="top"><input type="text" name="textfield2" id="txtpart" class="bk"></td>
    </tr>
    <tr>
      <td height="25">&nbsp;</td>
      <td valign="top"><input type="text" name="textfield3" id="txtcity" class="bk"></td>
    </tr>
    <tr>
      <td height="25">&nbsp;</td>
      <td valign="top"><input type="text" name="textfield4" id="txtmail" class="bk"></td>
    </tr>
    <tr>
      <td height="25">&nbsp;</td>
      <td valign="top"><input type="text" name="textfield5" id="txtTel" class="bk"></td>
    </tr>
    <tr>
      <td height="35">&nbsp;</td>
      <td valign="top"><input type="text" name="txtTel" id="txtTel2" class="bk1"></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td valign="top"><input type="button" name="button" id="button" value="" style="width:75px; height:22px; border:1px; background:none;" onclick="return vaAll()"></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td valign="top">&nbsp;</td>
    </tr>
    </tbody>
</table>
<script type="text/javascript">
var regex = /^([A-Za-z0-9_\-\.\'])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,6})$/ 
var tel= /^((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)$/
  function vaAll()
  {
     if($.trim($("#txtName").val())=="")
     {
        alert("请填写姓名!");
        return false
     }
     
      if($.trim($("#txtpart").val())=="")
     {
        alert("请填写部门!");
        return false
     }
     
      if($.trim($("#txtcity").val())=="")
     {
        alert("请填写工作城市!");
        return false
     }
     
      if($.trim($("#txtmail").val())=="")
     {
        alert("请填写邮箱!");
        return false
     }
     
     if(!regex.test($.trim($("#txtmail").val())))
     {
        alert("邮箱格式不正确!");
        return false
     }
     
      if($.trim($("#txtTel").val())=="")
     {
        alert("请填写电话!");
        return false
     }
     
     if(!tel.test($.trim($("#txtTel").val())))
     {
        alert("电话格式不正确!");
        return false
     }
     
     $.ajax({
            type : "POST",
            url : 'sendmessage.aspx',
            async : false,
            data : {"ee1" : $.trim($("#txtName").val()),"ee2":$.trim($("#txtpart").val()),"ee3":$.trim($("#txtcity").val()),"ee4":$.trim($("#txtmail").val()),"ee5":$.trim($("#txtTel").val())},
            beforeSend : function(xmlHttpRequest){
            },
            success : function(data,textStatus){
                
                if(data=="1")
                {
                   alert("提交成功!");
                   location.reload();
                   
                }
                else
                {
                  alert("提交失败!");
                }
          
            },
            complete : function(xmlHttpRequest, textStatus){
            },
            error : function(){
            }
        });
  }
</script>
</div>
</body>
</html>
